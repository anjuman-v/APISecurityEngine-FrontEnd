{"ast":null,"code":"import _toConsumableArray from\"/home/anjuman/Desktop/apiSecurityEngine/apisecurityengine-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/anjuman/Desktop/apiSecurityEngine/apisecurityengine-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{ADD_TO_CART,DECREMENT_QTY,REMOVE_FROM_CART}from'../../actionTypes';var INIT_STATE={cart:[]};export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:INIT_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_TO_CART:var productId=action.payload.product.id;if(state.cart.findIndex(function(product){return product.id===productId;})!==-1){var cart=state.cart.reduce(function(cartAcc,product){if(product.id===productId){cartAcc.push(_objectSpread(_objectSpread({},product),{},{qty:product.qty+1,sum:product.price*(product.qty+1)}));}else{cartAcc.push(product);}return cartAcc;},[]);return _objectSpread(_objectSpread({},state),{},{cart:cart});}return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[_objectSpread(_objectSpread({},action.payload.product),{},{qty:action.payload.qty,sum:action.payload.product.price*action.payload.qty})])});case DECREMENT_QTY:if(state.cart.findIndex(function(product){return product.id===action.productId;})!==-1){var _cart=state.cart.reduce(function(cartAcc,product){if(product.id===action.productId&&product.qty>1){cartAcc.push(_objectSpread(_objectSpread({},product),{},{qty:product.qty-1,sum:product.price*(product.qty-1)}));}else{cartAcc.push(product);}return cartAcc;},[]);return _objectSpread(_objectSpread({},state),{},{cart:_cart});}return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[_objectSpread(_objectSpread({},action.product),{},{qty:action.qty,sum:action.product.price*action.qty})])});case REMOVE_FROM_CART:return{cart:state.cart.filter(function(item){return item.id!==action.product_id.id;})};default:return state;}});","map":{"version":3,"names":["ADD_TO_CART","DECREMENT_QTY","REMOVE_FROM_CART","INIT_STATE","cart","state","arguments","length","undefined","action","type","productId","payload","product","id","findIndex","reduce","cartAcc","push","_objectSpread","qty","sum","price","concat","_toConsumableArray","filter","item","product_id"],"sources":["/home/anjuman/Desktop/apiSecurityEngine/apisecurityengine-frontend/src/redux/ecommerce/cart/reducer.jsx"],"sourcesContent":["import {\n    ADD_TO_CART,\n    DECREMENT_QTY,\n    REMOVE_FROM_CART,\n} from '../../actionTypes';\n\nconst INIT_STATE = {\n    cart: [],\n};\nexport default (state = INIT_STATE, action) => {\n\n    switch (action.type) {\n        \n        case ADD_TO_CART:\n        const productId = action.payload.product.id\n        if (state.cart.findIndex(product => product.id === productId) !== -1) {\n            const cart = state.cart.reduce((cartAcc, product) => {\n                if (product.id === productId) {\n                    cartAcc.push({ ...product, qty: product.qty + 1, sum: (product.price) * (product.qty + 1) }) \n                } else {\n                    cartAcc.push(product)\n                }\n                return cartAcc\n            }, [])\n\n            return { ...state, cart }\n        }\n\n        return { ...state, cart: [...state.cart, { ...action.payload.product, qty: action.payload.qty, sum: (action.payload.product.price) * action.payload.qty }] }\n\n        case DECREMENT_QTY:\n            if (state.cart.findIndex(product => product.id === action.productId) !== -1) {\n                const cart = state.cart.reduce((cartAcc, product) => {\n                    if (product.id === action.productId && product.qty > 1) {\n                        cartAcc.push({ ...product, qty: product.qty - 1, sum: (product.price) * (product.qty - 1) }) \n                    } else {\n                        cartAcc.push(product)\n                    }\n                    return cartAcc\n                }, [])\n\n                return { ...state, cart }\n            }\n\n        return { ...state, cart: [...state.cart, { ...action.product, qty: action.qty, sum: action.product.price * action.qty }] }\n        \n\n        case REMOVE_FROM_CART:\n            return {\n                cart: state.cart.filter(item => item.id !== action.product_id.id)\n            }\n            \n        default:\n            return state;\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}