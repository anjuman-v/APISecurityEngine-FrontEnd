{"ast":null,"code":"import _slicedToArray from\"/home/anjuman/Desktop/apiSecurityEngine/apisecurityengine-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback,useMemo,useEffect}from'react';import differenceBy from'lodash/differenceBy';import{toast}from'react-toastify';import DataTable from'react-data-table-component';import{Button}from'reactstrap';import MUIDataTable from'mui-datatables';import{createTheme,ThemeProvider}from'@mui/material/styles';var QuickScanTablePage=function QuickScanTablePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedRows=_useState2[0],setSelectedRows=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),toggleCleared=_useState4[0],setToggleCleared=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),onLoading=_useState6[0],setOnLoading=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),quickScantable=_useState8[0],setQuickScantable=_useState8[1];useEffect(function(){loadJobs();},[]);var loadJobs=function loadJobs(json){setOnLoading(true);var theLoginToken=JSON.parse(localStorage.getItem(\"user\")).access_token;var requestOptions={method:'GET',headers:{'Authorization':'Bearer '+theLoginToken}};fetch(process.env.REACT_APP_API_BASE_URL+'quick-scan-table-page',requestOptions).then(function(response){return response.json();}).then(function(json){return setResponse(json);}).then(function(data){}).catch(function(error){console.error(error);});};var setResponse=function setResponse(json){setQuickScantable(json.quickScantable);setOnLoading(false);};var options={filterType:\"dropdown\",responsive:\"stacked\",elevation:0,//for table shadow box\nfilter:true,download:true,print:true,search:true,searchOpen:true,viewColumns:true,selectableRows:false,// <===== will turn off checkboxes in rows\nrowsPerPage:20,rowsPerPageOptions:[]};var tableData=[];var columns=[{label:\"Scan ID\",options:{filter:false,download:false}},{label:\"Project Name\",options:{filter:false,download:false}},{label:\"Collection URL/Name\",options:{filter:false,download:false}},{label:\"Endpoints\",options:{filter:false,download:false}},{label:\"Date\",options:{filter:false,download:false}},{label:\"Vulnerabilities\",options:{filter:false,download:false}}];var getMuiTheme=function getMuiTheme(){return createTheme({components:{MUIDataTableBodyCell:{styleOverrides:{root:{textAlign:\"center\"}}}}});};var handleRowSelected=useCallback(function(state){setSelectedRows(state.selectedRows);},[]);var contextActions=useMemo(function(){var handleDelete=function handleDelete(){if(window.confirm(\"Are you sure you want to delete:\\r \".concat(selectedRows.map(function(r){return r.label;}),\"?\"))){setToggleCleared(!toggleCleared);toast.success(\"Successfully Deleted !\");}};return/*#__PURE__*/React.createElement(\"button\",{key:\"delete\",className:\"btn btn-danger\",onClick:handleDelete},\"Delete\");},[selectedRows,toggleCleared]);//\nreturn/*#__PURE__*/React.createElement(\"div\",{style:{overflow:\"scroll\",position:'relative',overflowY:'hidden',padding:'0 2% 0 2%'}},/*#__PURE__*/React.createElement(\"div\",{style:{width:'100%',marginTop:10,padding:10}},/*#__PURE__*/React.createElement(\"div\",{style:{display:'flex',justifyContent:'space-between',width:'99%'}},/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:'2rem'}},/*#__PURE__*/React.createElement(\"h2\",null,\"Quick Scans\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{variant:\"contained\",href:\"/start-quick-scan-page\"},\"Start a Quick Scan\")))),/*#__PURE__*/React.createElement(ThemeProvider,{theme:getMuiTheme()},/*#__PURE__*/React.createElement(MUIDataTable,{style:{height:\"60vh\",width:'80vw'},data:tableData,columns:columns,options:options,selectableRows:true,persistTableHead:true,contextActions:contextActions,onSelectedRowsChange:handleRowSelected,clearSelectedRows:toggleCleared})));};export default QuickScanTablePage;","map":{"version":3,"names":["React","useState","useCallback","useMemo","useEffect","differenceBy","toast","DataTable","Button","MUIDataTable","createTheme","ThemeProvider","QuickScanTablePage","_useState","_useState2","_slicedToArray","selectedRows","setSelectedRows","_useState3","_useState4","toggleCleared","setToggleCleared","_useState5","_useState6","onLoading","setOnLoading","_useState7","_useState8","quickScantable","setQuickScantable","loadJobs","json","theLoginToken","JSON","parse","localStorage","getItem","access_token","requestOptions","method","headers","fetch","process","env","REACT_APP_API_BASE_URL","then","response","setResponse","data","catch","error","console","options","filterType","responsive","elevation","filter","download","print","search","searchOpen","viewColumns","selectableRows","rowsPerPage","rowsPerPageOptions","tableData","columns","label","getMuiTheme","components","MUIDataTableBodyCell","styleOverrides","root","textAlign","handleRowSelected","state","contextActions","handleDelete","window","confirm","concat","map","r","success","createElement","key","className","onClick","style","overflow","position","overflowY","padding","width","marginTop","display","justifyContent","marginBottom","variant","href","theme","height","persistTableHead","onSelectedRowsChange","clearSelectedRows"],"sources":["/home/anjuman/Desktop/apiSecurityEngine/apisecurityengine-frontend/src/Authenticated/User/quickScans/QuickScanTablePage.jsx"],"sourcesContent":["import React, { \n  useState,\n  useCallback,\n  useMemo,\n  useEffect\n} from 'react';\nimport differenceBy from 'lodash/differenceBy';\nimport { toast } from 'react-toastify';\nimport DataTable from 'react-data-table-component'\nimport { Button} from 'reactstrap';\nimport MUIDataTable from 'mui-datatables';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\n\nconst QuickScanTablePage = () =>  {\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [toggleCleared, setToggleCleared] = useState(false);\n\n  const [onLoading, setOnLoading] = useState(false);\n  const [quickScantable, setQuickScantable] = useState([])\n\n\n\n  useEffect(() => {\n    loadJobs();\n  }, []);\n\n\n  const loadJobs = (json) => {\n\n    setOnLoading(true);\n\n    var theLoginToken = JSON.parse((localStorage.getItem(\"user\"))).access_token;\n\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'Authorization': 'Bearer ' + theLoginToken\n      }\n    };\n    \n      fetch(process.env.REACT_APP_API_BASE_URL+'quick-scan-table-page', requestOptions)\n        .then(response => response.json())\n        .then((json) => setResponse(json))\n        .then((data) => {\n        }).catch((error) => {\n          console.error(error);\n        });\n  }\n\n  const setResponse = (json) => {\n\n    setQuickScantable(json.quickScantable);\n    setOnLoading(false);\n  }\n\n\n\n  const options = {\n    filterType: \"dropdown\",\n    responsive: \"stacked\",\n    elevation: 0, //for table shadow box\n    filter: true,\n    download: true,\n    print: true,\n    search: true,\n    searchOpen: true,\n    viewColumns: true,\n    selectableRows: false, // <===== will turn off checkboxes in rows\n    rowsPerPage: 20,\n    rowsPerPageOptions: [],\n  };\n\n  var tableData = [];\n  \n\n\n  const columns = [     \n    {\n     label: \"Scan ID\",\n     options: {\n       filter: false,\n       download: false,\n       \n     }\n   },      \n   {\n     label: \"Project Name\",\n     options: {\n       filter: false,\n       download: false,\n       \n     }\n   },\n            \n    {\n      label: \"Collection URL/Name\",\n      options: {\n        filter: false,\n        download: false,\n        \n      }\n    },\n    {\n      label: \"Endpoints\",\n      options: {\n        filter: false,\n        download: false,\n        \n      }\n    },\n\n    {\n      label: \"Date\",\n      options: {\n        filter: false,\n        download: false,\n        \n      }\n    },\n    {\n      label: \"Vulnerabilities\",\n      options: {\n        filter: false,\n        download: false,\n        \n      }\n    },\n\n  ];\n\n  const getMuiTheme = () => createTheme({\n    components: {\n      MUIDataTableBodyCell: {\n        styleOverrides:{\n          root: {\n              textAlign: \"center\"\n          }\n        }\n      }\n    }\n  })\n\n  const handleRowSelected = useCallback(state => {\n      setSelectedRows(state.selectedRows);\n    }, []);\n\n    const contextActions = useMemo(() => {\n      const handleDelete = () => {\n        \n        if (window.confirm(`Are you sure you want to delete:\\r ${selectedRows.map(r => r.label)}?`)) {\n          setToggleCleared(!toggleCleared);\n          toast.success(\"Successfully Deleted !\")\n        }\n      };\n  \n      return <button key=\"delete\" className=\"btn btn-danger\" onClick={handleDelete}>Delete</button>;\n    }, [ selectedRows, toggleCleared]);\n\n   //\n\n\n   \n  \n\n  \n\n    return (\n     <div style={{ overflow: \"scroll\", position:'relative', overflowY: 'hidden', padding:'0 2% 0 2%' }}>\n        <div style={{ width:'100%',  marginTop:10, padding:10}}>\n            <div style={{ display:'flex', justifyContent:'space-between', width:'99%'}}>\n              <div style={{ marginBottom: '2rem', }}>\n                  <h2>Quick Scans</h2>\n              </div>\n              <div>\n                  <Button variant=\"contained\" href=\"/start-quick-scan-page\">Start a Quick Scan</Button>\n              </div>\n            </div>\n        </div> \n        <ThemeProvider theme={getMuiTheme()}>\n        <MUIDataTable\n        style={{ height: \"60vh\", width:'80vw' }}\n        data={tableData}\n        columns={columns}\n        options={options} \n        selectableRows\n        persistTableHead\n        contextActions={contextActions}\n        onSelectedRowsChange={handleRowSelected}\n        clearSelectedRows={toggleCleared}\n        \n        /> \n        </ThemeProvider>        \n    </div>\n    );\n\n};\n\nexport default QuickScanTablePage;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}